<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <link rel="shortcut icon" href="logo-favicon.png"><meta name="theme-color" content="#D7A318"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title>Introduction | Hitrix - golang framework</title><meta name="description" content="Golang Framework for high traffic applications. Designed for speed up development time.">
    <link rel="preload" href="/hitrix/assets/js/runtime~app.7229c1cf.js" as="script"><link rel="preload" href="/hitrix/assets/css/styles.1ec23e2d.css" as="style"><link rel="preload" href="/hitrix/assets/js/8567.307c9fba.js" as="script"><link rel="preload" href="/hitrix/assets/js/app.b3be4a57.js" as="script">
    <link rel="stylesheet" href="/hitrix/assets/css/styles.1ec23e2d.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a aria-current="page" href="/hitrix/" class="router-link-active router-link-exact-active"><img class="logo" src="/hitrix/logo-favicon-90x90.png" alt="Hitrix - golang framework"><span class="site-name can-hide">Hitrix - golang framework</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a aria-current="page" href="/hitrix/" class="router-link-active router-link-exact-active nav-link" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/hitrix/roadmap/" class="nav-link" aria-label="Roadmap"><!--[--><!--]--> Roadmap <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/hitrix/rules/" class="nav-link" aria-label="CoreTrix Rules"><!--[--><!--]--> CoreTrix Rules <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/coretrix/hitrix" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search..." autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a aria-current="page" href="/hitrix/" class="router-link-active router-link-exact-active nav-link" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/hitrix/roadmap/" class="nav-link" aria-label="Roadmap"><!--[--><!--]--> Roadmap <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/hitrix/rules/" class="nav-link" aria-label="CoreTrix Rules"><!--[--><!--]--> CoreTrix Rules <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/coretrix/hitrix" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">Guide</p><ul class=""><li><!--[--><a aria-current="page" href="/hitrix/" class="router-link-active router-link-exact-active nav-link sidebar-item active" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/hitrix/#installation" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/hitrix/#quick-start" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Quick start"><!--[--><!--]--> Quick start <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/hitrix/#register-dev-panel" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Register Dev Panel"><!--[--><!--]--> Register Dev Panel <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/hitrix/#di-services" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="DI services"><!--[--><!--]--> DI services <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/hitrix/#setting-mode" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Setting mode"><!--[--><!--]--> Setting mode <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/hitrix/#environment-variables" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Environment variables"><!--[--><!--]--> Environment variables <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><p class="sidebar-item">Services</p><ul class="sidebar-sub-items"><li><!--[--><a href="/hitrix/guide/services/app" class="nav-link sidebar-item" aria-label="App"><!--[--><!--]--> App <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/config" class="nav-link sidebar-item" aria-label="Config"><!--[--><!--]--> Config <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/orm_engine" class="nav-link sidebar-item" aria-label="ORM Engine"><!--[--><!--]--> ORM Engine <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/orm_engine_context" class="nav-link sidebar-item" aria-label="ORM Engine Context"><!--[--><!--]--> ORM Engine Context <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/oss" class="nav-link sidebar-item" aria-label="OSS"><!--[--><!--]--> OSS <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/api_logger" class="nav-link sidebar-item" aria-label="API Logger"><!--[--><!--]--> API Logger <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/authentication" class="nav-link sidebar-item" aria-label="Authentication"><!--[--><!--]--> Authentication <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/clock" class="nav-link sidebar-item" aria-label="Clock"><!--[--><!--]--> Clock <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/checkout" class="nav-link sidebar-item" aria-label="Checkout"><!--[--><!--]--> Checkout <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/crud" class="nav-link sidebar-item" aria-label="CRUD"><!--[--><!--]--> CRUD <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/ddos" class="nav-link sidebar-item" aria-label="DDOS"><!--[--><!--]--> DDOS <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/dynamic_link" class="nav-link sidebar-item" aria-label="Dynamic link"><!--[--><!--]--> Dynamic link <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/elorus" class="nav-link sidebar-item" aria-label="Elorus - Invoice manager"><!--[--><!--]--> Elorus - Invoice manager <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/error_logger" class="nav-link sidebar-item" aria-label="Error logger"><!--[--><!--]--> Error logger <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/fcm" class="nav-link sidebar-item" aria-label="Firebase cloud messaging"><!--[--><!--]--> Firebase cloud messaging <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/file_extractor" class="nav-link sidebar-item" aria-label="File extractor"><!--[--><!--]--> File extractor <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/localizer" class="nav-link sidebar-item" aria-label="Localizer"><!--[--><!--]--> Localizer <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/google_analytics" class="nav-link sidebar-item" aria-label="Google Analytics"><!--[--><!--]--> Google Analytics <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/mail" class="nav-link sidebar-item" aria-label="Transactional email sender"><!--[--><!--]--> Transactional email sender <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/jwt" class="nav-link sidebar-item" aria-label="JWT"><!--[--><!--]--> JWT <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/otp" class="nav-link sidebar-item" aria-label="OTP"><!--[--><!--]--> OTP <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/password" class="nav-link sidebar-item" aria-label="Password"><!--[--><!--]--> Password <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/html2pdf" class="nav-link sidebar-item" aria-label="HTML2PDF"><!--[--><!--]--> HTML2PDF <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/slack" class="nav-link sidebar-item" aria-label="Slack"><!--[--><!--]--> Slack <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/sms" class="nav-link sidebar-item" aria-label="SMS"><!--[--><!--]--> SMS <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/setting" class="nav-link sidebar-item" aria-label="Setting"><!--[--><!--]--> Setting <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/stripe" class="nav-link sidebar-item" aria-label="Stripe"><!--[--><!--]--> Stripe <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/uploader" class="nav-link sidebar-item" aria-label="Uploader"><!--[--><!--]--> Uploader <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/websocket" class="nav-link sidebar-item" aria-label="WebSocket"><!--[--><!--]--> WebSocket <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/exporter" class="nav-link sidebar-item" aria-label="Exporter"><!--[--><!--]--> Exporter <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/feature_flag" class="nav-link sidebar-item" aria-label="Feature flags"><!--[--><!--]--> Feature flags <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/clockwork" class="nav-link sidebar-item" aria-label="ClockWork"><!--[--><!--]--> ClockWork <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/kubernetes" class="nav-link sidebar-item" aria-label="Kubernetes"><!--[--><!--]--> Kubernetes <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/template" class="nav-link sidebar-item" aria-label="Template"><!--[--><!--]--> Template <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/gql" class="nav-link sidebar-item" aria-label="Gql"><!--[--><!--]--> Gql <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/services/request_logger" class="nav-link sidebar-item" aria-label="Request Logger"><!--[--><!--]--> Request Logger <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><p class="sidebar-item">Features</p><ul class="sidebar-sub-items"><li><!--[--><a href="/hitrix/guide/features/flags" class="nav-link sidebar-item" aria-label="Flags"><!--[--><!--]--> Flags <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/features/script" class="nav-link sidebar-item" aria-label="Background scripts"><!--[--><!--]--> Background scripts <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/features/seeder" class="nav-link sidebar-item" aria-label="Seeder"><!--[--><!--]--> Seeder <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/features/validator" class="nav-link sidebar-item" aria-label="Validator"><!--[--><!--]--> Validator <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/features/pagination" class="nav-link sidebar-item" aria-label="Pagination"><!--[--><!--]--> Pagination <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/features/test" class="nav-link sidebar-item" aria-label="Integration test"><!--[--><!--]--> Integration test <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/features/helper" class="nav-link sidebar-item" aria-label="Helper"><!--[--><!--]--> Helper <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/features/goroutine" class="nav-link sidebar-item" aria-label="Goroutine"><!--[--><!--]--> Goroutine <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/hitrix/guide/features/upload_files" class="nav-link sidebar-item" aria-label="Upload files"><!--[--><!--]--> Upload files <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><p class="sidebar-item">GraphQL</p><ul class="sidebar-sub-items"><li><!--[--><a href="/hitrix/guide/graphql/dataloaders" class="nav-link sidebar-item" aria-label="Dataloaders"><!--[--><!--]--> Dataloaders <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h1><p>Hitrix is a web framework written in Go (Golang) and support Graphql and REST api. It is based on top of <a href="https://gqlgen.com/%5D" target="_blank" rel="noopener noreferrer">Gqlgen<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> and <a href="https://github.com/gin-gonic/gin" target="_blank" rel="noopener noreferrer">Gin Framework<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h4 id="why-to-choose-hitrix" tabindex="-1"><a class="header-anchor" href="#why-to-choose-hitrix" aria-hidden="true">#</a> Why to choose Hitrix?</h4><p>Hitrix is combination between high performance and speed of development. There are many build-in features and tools that save development time. Also this framework helps you from the day zero to start creating new features for your project. You don&#39;t need to spend time thinking about error log, db layer, caching, DI, structure, background jobs and so on. The only thing you need to do is to use Hitrix and deliver fast to the business</p><p>Built-in features:</p><ul><li>It supports all features of <a href="https://gqlgen.com/%5D" target="_blank" rel="noopener noreferrer">Gqlgen<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> and <a href="https://github.com/gin-gonic/gin" target="_blank" rel="noopener noreferrer">Gin Framework<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li>Integrated with <a href="https://github.com/latolukasz/beeorm" target="_blank" rel="noopener noreferrer">ORM<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li>Follows <a href="https://en.wikipedia.org/wiki/Dependency_injection" target="_blank" rel="noopener noreferrer">Dependency injection<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> pattern</li><li>Provides many DI services that makes your life easier. You can read more about them in our documentation</li><li>Provides <a href="https://github.com/coretrix/dev-frontend" target="_blank" rel="noopener noreferrer">Dev panel<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> where you can monitor and manage your application(monitoring, error log, db alters redis status and so on)</li><li>Other Features <ul><li>Database Seeding</li><li>Helpers</li><li>Background scripts</li><li>Validators</li><li>Integration tests</li><li>and so on...</li></ul></li></ul><h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>go get -u github.com/coretrix/hitrix
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="quick-start" tabindex="-1"><a class="header-anchor" href="#quick-start" aria-hidden="true">#</a> Quick start</h2><ol><li>Run next command into your project&#39;s main folder and the graph structure will be created</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>go run github.com/99designs/gqlgen init
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="2"><li>Create <code>cmd</code> folder into your project and file called <code>main.go</code></li></ol><p>Put the next code into the file:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;github.com/coretrix/hitrix&quot;</span>
	<span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
	
	<span class="token string">&quot;your-project/graph&quot;</span> <span class="token comment">//path you your graph</span>
	<span class="token string">&quot;your-project/graph/generated&quot;</span> <span class="token comment">//path you your graph generated folder</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s<span class="token punctuation">,</span> deferFunc <span class="token operator">:=</span> hitrix<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>
		<span class="token string">&quot;app-name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;your secret&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">defer</span> <span class="token function">deferFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	s<span class="token punctuation">.</span><span class="token function">RunServer</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">,</span> generated<span class="token punctuation">.</span><span class="token function">NewExecutableSchema</span><span class="token punctuation">(</span>generated<span class="token punctuation">.</span>Config<span class="token punctuation">{</span>Resolvers<span class="token punctuation">:</span> <span class="token operator">&amp;</span>graph<span class="token punctuation">.</span>Resolver<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">func</span><span class="token punctuation">(</span>ginEngine <span class="token operator">*</span>gin<span class="token punctuation">.</span>Engine<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//here you can register all your middlewares</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>You are able register DI services in your <code>main.go</code> file in that way:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;github.com/coretrix/hitrix&quot;</span>
	<span class="token string">&quot;github.com/coretrix/hitrix/service/registry&quot;</span>
	<span class="token string">&quot;your-project/entity&quot;</span>
	<span class="token string">&quot;your-project/graph&quot;</span>
	<span class="token string">&quot;your-project/graph/generated&quot;</span>
	<span class="token string">&quot;github.com/coretrix/hitrix/pkg/middleware&quot;</span>
	<span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
	<span class="token string">&quot;github.com/coretrix/hitrix/service/component/app&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s<span class="token punctuation">,</span> deferFunc <span class="token operator">:=</span> hitrix<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>
		<span class="token string">&quot;app-name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;your secret&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RegisterDIGlobalService</span><span class="token punctuation">(</span>
		registry<span class="token punctuation">.</span><span class="token function">ServiceProviderErrorLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//register redis error logger</span>
		registry<span class="token punctuation">.</span><span class="token function">ServiceProviderConfigDirectory</span><span class="token punctuation">(</span><span class="token string">&quot;../config&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//register config service. As param you should point to the folder of your config file</span>
		registry<span class="token punctuation">.</span><span class="token function">ServiceProviderOrmRegistry</span><span class="token punctuation">(</span>entity<span class="token punctuation">.</span>Init<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//register our ORM and pass function where we set some configurations </span>
		registry<span class="token punctuation">.</span><span class="token function">ServiceProviderOrmEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//register our ORM engine for background processes</span>
		registry<span class="token punctuation">.</span><span class="token function">ServiceProviderJWT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//register JWT DI service</span>
		registry<span class="token punctuation">.</span><span class="token function">ServiceProviderPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">.</span>NewSimpleManager<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//register pasword DI service</span>
	<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RegisterDIRequestService</span><span class="token punctuation">(</span>
		registry<span class="token punctuation">.</span><span class="token function">ServiceProviderOrmEngineForContext</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//register our ORM engine per context used in foreground processes </span>
	<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RegisterRedisPools</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>app<span class="token punctuation">.</span>RedisPools<span class="token punctuation">{</span>Persistent<span class="token punctuation">:</span> <span class="token string">&quot;your pool here&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
    <span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">defer</span> <span class="token function">deferFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	s<span class="token punctuation">.</span><span class="token function">RunServer</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">,</span> generated<span class="token punctuation">.</span><span class="token function">NewExecutableSchema</span><span class="token punctuation">(</span>generated<span class="token punctuation">.</span>Config<span class="token punctuation">{</span>Resolvers<span class="token punctuation">:</span> <span class="token operator">&amp;</span>graph<span class="token punctuation">.</span>Resolver<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">func</span><span class="token punctuation">(</span>ginEngine <span class="token operator">*</span>gin<span class="token punctuation">.</span>Engine<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		middleware<span class="token punctuation">.</span><span class="token function">Cors</span><span class="token punctuation">(</span>ginEngine<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>Now I will explain the main.go file line by line</p><ol><li><p>We create <strong>New</strong> instance of Hitrix and pass app name and a secret that is used from our security services</p></li><li><p>We register some DI services</p><p>2.1. Global DI service for error logger. It will be used for error handler as well in case of panic If you register Slack error logger also it will send messages to slack channel</p><p>2.2. Global DI service that loads config file</p><p>2.3. Global DI service that initialize our ORM registry</p><p>2.4. Global DI ORM engine used in background processes</p><p>2.6. Global DI JWT service used by dev panel</p><p>2.7. Global DI Password service used by dev-panel</p><p>2.8. Request DI ORM engine used in foreground processes</p></li><li><p>We register redis pools. Those pools are used by different services as <code>authentication</code> service, <code>dev panel</code> and so on</p></li><li><p>We run the server on port <code>9999</code>, pass graphql resolver and as third param we pass all middlewares we need.<br> As you can see in our example we register only Cors middleware</p></li></ol><h3 id="register-dev-panel" tabindex="-1"><a class="header-anchor" href="#register-dev-panel" aria-hidden="true">#</a> Register <a href="https://github.com/coretrix/dev-frontend" target="_blank" rel="noopener noreferrer">Dev Panel<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></h3><p>If you want to use our dev panel and to be able to manage alters, error log, redis monitoring, redis stream and so on you should execute next steps:</p><h4 id="create-devpaneluserentity" tabindex="-1"><a class="header-anchor" href="#create-devpaneluserentity" aria-hidden="true">#</a> Create DevPanelUserEntity</h4><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> entity

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;github.com/latolukasz/beeorm&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> DevPanelUserEntity <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	beeorm<span class="token punctuation">.</span>ORM   <span class="token string">`orm:&quot;table=admin_users;redisCache&quot;`</span>
	ID        <span class="token builtin">uint64</span>
	Email     <span class="token builtin">string</span> <span class="token string">`orm:&quot;unique=Email&quot;`</span>
	Password  <span class="token builtin">string</span>

	UserEmailIndex <span class="token operator">*</span>beeorm<span class="token punctuation">.</span>CachedQuery <span class="token string">`queryOne:&quot;:Email = ?&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>DevPanelUserEntity<span class="token punctuation">)</span> <span class="token function">GetUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> e<span class="token punctuation">.</span>Email
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>DevPanelUserEntity<span class="token punctuation">)</span> <span class="token function">GetPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> e<span class="token punctuation">.</span>Password
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>After that you should register it to the <code>entity.Init</code> function</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> entity

<span class="token keyword">import</span> <span class="token string">&quot;github.com/latolukasz/beeorm&quot;</span>

<span class="token keyword">func</span> <span class="token function">Init</span><span class="token punctuation">(</span>registry <span class="token operator">*</span>beeorm<span class="token punctuation">.</span>Registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	registry<span class="token punctuation">.</span><span class="token function">RegisterEntity</span><span class="token punctuation">(</span>
		<span class="token operator">&amp;</span>DevPanelUserEntity<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Please execute this alter into your database</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>
<span class="token keyword">create</span> <span class="token keyword">table</span> dev_panel_users
<span class="token punctuation">(</span>
    ID       <span class="token keyword">bigint</span> <span class="token keyword">unsigned</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    Email    <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    Password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> Email <span class="token keyword">unique</span> <span class="token punctuation">(</span>Email<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">charset</span> <span class="token operator">=</span> utf8mb4<span class="token punctuation">;</span>


</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>After that you can make GET request to http://localhost:9999/dev/create-dev-panel-user/?username=contact@coretrix.com&amp;password=coretrix This will generate sql query that should be executed into your database to create new user for dev panel</p><h4 id="register-dev-panel-when-you-make-new-instance-of-hitrix-framework-in-your-main-go-file" tabindex="-1"><a class="header-anchor" href="#register-dev-panel-when-you-make-new-instance-of-hitrix-framework-in-your-main-go-file" aria-hidden="true">#</a> Register dev panel when you make new instance of hitrix framework in your <code>main.go</code> file</h4><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>s<span class="token punctuation">,</span> deferFunc <span class="token operator">:=</span> hitrix<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>
		<span class="token string">&quot;app-name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;your secret&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RegisterDIGlobalService</span><span class="token punctuation">(</span>
		registry<span class="token punctuation">.</span><span class="token function">ServiceProviderErrorLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//register redis error logger</span>
		<span class="token comment">//...</span>
	<span class="token punctuation">)</span><span class="token punctuation">.</span>
    <span class="token function">RegisterDevPanel</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>entity<span class="token punctuation">.</span>DevPanelUserEntity<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> middleware<span class="token punctuation">.</span>Router<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token comment">//register our dev-panel and pass the entity where we save admin users, the router and the third param is used for the redis stream pool if its used</span>
    <span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="di-services" tabindex="-1"><a class="header-anchor" href="#di-services" aria-hidden="true">#</a> DI services</h3><p>We have two types of DI services - Global and Request services Global services are singletons created once for the whole application Request services are singletons created once per request</p><h4 id="calling-di-services" tabindex="-1"><a class="header-anchor" href="#calling-di-services" aria-hidden="true">#</a> Calling DI services</h4><p>If you want to access the registered DI services you can do in in that way:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//access the app</span>
service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Config</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//access config</span>
service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">OrmEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//access global orm engine</span>
service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">OrmEngineForContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//access reqeust orm engine</span>
service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">JWT</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//access JWT</span>
service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Password</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//access JWT</span>
<span class="token comment">//...and so on</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="register-new-di-global-service" tabindex="-1"><a class="header-anchor" href="#register-new-di-global-service" aria-hidden="true">#</a> Register new DI global service</h4><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>
<span class="token keyword">func</span> <span class="token function">ServiceProviderMyService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>ServiceProvider <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>ServiceProvider<span class="token punctuation">{</span>
		Name<span class="token punctuation">:</span>   <span class="token string">&quot;my_service&quot;</span><span class="token punctuation">,</span>
		Build<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>ctn di<span class="token punctuation">.</span>Container<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token operator">&amp;</span>yourService<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">nil</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>And you have to register <code>ServiceProviderMyService()</code> in your <code>main.go</code> file</p><p>Now you can access this service in your code using:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/coretrix/hitrix&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">SomeResolver</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    service<span class="token punctuation">.</span><span class="token function">HasService</span><span class="token punctuation">(</span><span class="token string">&quot;my_service&quot;</span><span class="token punctuation">)</span> <span class="token comment">// return true</span>
    
    <span class="token comment">// return error if Build function returned error</span>
    myService<span class="token punctuation">,</span> has<span class="token punctuation">,</span> err <span class="token operator">:=</span> service<span class="token punctuation">.</span><span class="token function">GetServiceSafe</span><span class="token punctuation">(</span><span class="token string">&quot;my_service&quot;</span><span class="token punctuation">)</span> 
    <span class="token comment">// will panic if Build function returns error</span>
    myService<span class="token punctuation">,</span> has <span class="token operator">:=</span> service<span class="token punctuation">.</span><span class="token function">GetServiceOptional</span><span class="token punctuation">(</span><span class="token string">&quot;my_service&quot;</span><span class="token punctuation">)</span> 
    <span class="token comment">// will panic if service is not registered or Build function returned errors</span>
    myService <span class="token operator">:=</span> service<span class="token punctuation">.</span><span class="token function">GetServiceRequired</span><span class="token punctuation">(</span><span class="token string">&quot;my_service&quot;</span><span class="token punctuation">)</span> 

    <span class="token comment">// if you registered service with field &quot;Global&quot; set to false (request service)</span>

    myContextService<span class="token punctuation">,</span> has<span class="token punctuation">,</span> err <span class="token operator">:=</span> hitrix<span class="token punctuation">.</span><span class="token function">GetServiceForRequestSafe</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;my_service_request&quot;</span><span class="token punctuation">)</span>
    myContextService<span class="token punctuation">,</span> has <span class="token operator">:=</span> hitrix<span class="token punctuation">.</span><span class="token function">GetServiceForRequestOptional</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;my_service_request&quot;</span><span class="token punctuation">)</span> 
    myContextService <span class="token operator">:=</span> hitrix<span class="token punctuation">.</span><span class="token function">GetServiceForRequestRequired</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;my_service_request&quot;</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>It&#39;s a good practice to define one object to return all available services:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> my_package
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/coretrix/hitrix&quot;</span>
<span class="token punctuation">)</span>



<span class="token keyword">func</span> <span class="token function">MyService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> MyService <span class="token punctuation">{</span>
    <span class="token keyword">return</span> service<span class="token punctuation">.</span><span class="token function">GetServiceRequired</span><span class="token punctuation">(</span><span class="token string">&quot;service_key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>MyService<span class="token punctuation">)</span>
<span class="token punctuation">}</span>


</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="setting-mode" tabindex="-1"><a class="header-anchor" href="#setting-mode" aria-hidden="true">#</a> Setting mode</h3><h4 id="app-mode-environment-variable" tabindex="-1"><a class="header-anchor" href="#app-mode-environment-variable" aria-hidden="true">#</a> APP_MODE environment variable</h4><p>You can define hitrix mode using special environment variable &quot;<strong>APP_MODE</strong>&quot;.</p><p>Hitrix provides by default four modes:</p><ul><li><strong>hitrix.ModeLocal - local</strong><ul><li>should be used on local development machine (developer laptop)</li><li>errors and stack trace is printed directly to system console</li><li>log level is set to Debug level</li><li>log is formatted using human friendly console text formatter</li><li>Gin Framework is running in GinDebug mode</li></ul></li><li><strong>hitrix.ModeTest - test</strong><ul><li>should be used when you run your application tests</li></ul></li><li><strong>hitrix.ModeDev - dev</strong><ul><li>should be used on your dev server</li></ul></li><li><strong>hitrix.ModeDemo - demo</strong><ul><li>should be used on your demo server</li></ul></li><li><strong>hitrix.ModeProd - prod</strong><ul><li>errors and stack trace is printed only using Log</li><li>log level is set to Warn level</li><li>log is formatted using json formatter</li></ul></li></ul><p>Mode is just a string. You can define any name you want. Remember that every mode that you create follows <strong>hitrix.ModeProd</strong> rules explained above.</p><p>In code you can easly check current mode using one of these methods:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Mode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">IsInLocalMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">IsInProdMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
service<span class="token punctuation">.</span><span class="token function">DI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">IsInMode</span><span class="token punctuation">(</span><span class="token string">&quot;my_mode&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="environment-variables" tabindex="-1"><a class="header-anchor" href="#environment-variables" aria-hidden="true">#</a> Environment variables</h3><h4 id="app-folder-environment-variable" tabindex="-1"><a class="header-anchor" href="#app-folder-environment-variable" aria-hidden="true">#</a> APP_FOLDER environment variable</h4><p>There are another important environment variable called <code>environment</code> You can set path to your app folder for your demo, prod or any other environment</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/coretrix/hitrix/edit/main/docs/docs/README.md" rel="noopener noreferrer" target="_blank" aria-label><!--[--><!--]-->  <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">6/5/2023, 12:26:06 PM</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: a.shumansky@gmail.com">Anton</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: krasimir.ivanov@coretrix.com">Krasimir Ivanov</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/hitrix/assets/js/runtime~app.7229c1cf.js" defer></script><script src="/hitrix/assets/js/8567.307c9fba.js" defer></script><script src="/hitrix/assets/js/app.b3be4a57.js" defer></script>
  </body>
</html>
